<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI差旅 一站式差旅系统 - AI生成</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
        }
        .content-container {
            min-height: calc(100vh - 10rem);
            display: flex;
            flex-direction: column;
            max-height: none;
            padding-bottom: 2rem;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .journey-item {
            position: relative;
            padding-left: 28px;
        }
        .journey-item:before {
            content: "";
            position: absolute;
            left: 10px;
            top: 10px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #ef4444;
        }
        .workflow-step {
            position: relative;
        }
        .workflow-step:not(:last-child)::after {
            content: '';
            position: absolute;
            top: 50%;
            right: -30px;
            width: 30px;
            height: 2px;
            background-color: #e5e7eb;
            transform: translateY(-50%);
        }
        .nav-connector {
            position: absolute;
            width: 2px;
            background-color: #e5e7eb;
            left: 50%;
            transform: translateX(-50%);
            z-index: 0;
            top: 12px;
            height: calc(100% - 12px - 50px);
        }
        .nav-item {
            position: relative;
            z-index: 1;
            width: 100%;
            margin-bottom: 1rem;
        }
        .nav-item a {
            display: block;
            width: 100%;
            transition: all 0.2s;
        }
        .nav-item.active a {
            border-color: #2563eb;
            background-color: #f0f7ff;
            color: #2563eb;
            font-weight: 500;
        }
        @keyframes loading {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        @keyframes pulse-glow {
            0%, 100% { box-shadow: inset 0 0 3px rgba(99, 102, 241, 0.4); }
            50% { box-shadow: inset 0 0 6px rgba(99, 102, 241, 0.8), inset 0 0 8px rgba(139, 92, 246, 0.4); }
        }
        @keyframes ai-spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .progress-container {
            background: linear-gradient(90deg, #f8fafc 0%, #e2e8f0 100%);
            border: 1px solid #e2e8f0;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        #aiProgressBar {
            position: relative;
            overflow: hidden;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            background: linear-gradient(90deg, #6366f1 0%, #8b5cf6 50%, #06b6d4 100%);
            box-shadow: inset 0 1px 3px rgba(99, 102, 241, 0.3);
            animation: pulse-glow 2s infinite;
        }
        #aiProgressBar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.8), transparent);
            animation: loading 2s infinite;
        }
        .ai-loading-icon {
            animation: ai-spin 2s linear infinite;
        }
        .status-title {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 600;
        }
        .highlight-item {
            transition: all 0.3s ease;
        }
        .scale-105 {
            transform: scale(1.05);
        }
        button, a {
            transition: all 0.3s ease;
        }
        .transport-option .flex:not(.absolute) {
            margin-left: 2rem; /* 为选择框留出空间 */
        }
        .transport-option > div:not(.absolute) {
            margin-left: 2rem; /* 为选择框留出空间 */
        }
        .transport-option.border-blue-500 {
            box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.5);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- 主体内容区 -->
    <main class="max-w-6xl mx-auto p-8 flex">
        <!-- 左侧竖向导航 -->
        <div class="w-64 bg-white border-r border-gray-200 rounded-lg p-4 mr-8">
            <div class="font-medium text-lg text-gray-700 mb-4">任务流</div>
            <div class="relative pb-4">
                <!-- 竖向连接线 -->
                <div class="nav-connector"></div>
                
                <!-- 步骤1 - 开始 -->
                <div class="nav-item">
                    <a href="home.html" class="bg-white border border-gray-200 rounded-lg p-4 text-gray-700 hover:bg-gray-50 flex items-center justify-between">
                        <span>1. 开始</span>
                        <i class="fas fa-check-circle text-blue-500"></i>
                    </a>
                </div>
                
                <!-- 步骤2 - AI生成 -->
                <div class="nav-item active">
                    <a href="#" class="bg-blue-50 border-2 border-blue-600 text-blue-700 rounded-lg p-4 font-medium flex items-center justify-between">
                        <span>2. AI生成</span>
                        <i class="fas fa-check-circle text-blue-500"></i>
                    </a>
                </div>
                
                <!-- 步骤3 - 人工确认 -->
                <div class="nav-item">
                    <a href="confirm_order.html" class="bg-white border border-gray-200 rounded-lg p-4 text-gray-700 hover:bg-gray-50">
                        3. 人工确认
                    </a>
                </div>
                
                <!-- 步骤4 - 报销费用 -->
                <div class="nav-item">
                    <a href="page6.html" class="bg-white border border-gray-200 rounded-lg p-4 text-gray-700 hover:bg-gray-50">
                        4. 报销费用
                    </a>
                </div>
            </div>
        </div>

        <!-- 内容区 -->
        <div class="flex-1">
            <div class="bg-white border border-gray-200 rounded-lg p-8 content-container">
                <!-- 添加Logo SVG -->
                <h1 class="text-3xl font-bold text-gray-800 flex items-center mb-6">
                    <svg width="45" height="45" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="mr-2">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M3.18335 6.00092C3.18335 3.93905 4.85482 2.26758 6.91668 2.26758C8.97855 2.26758 10.65 3.93905 10.65 6.00091V7.49935C11.2729 6.90161 12.1186 6.53425 13.05 6.53425C14.3242 6.53425 15.4379 7.22169 16.0403 8.24593C16.6573 7.6798 17.48 7.33425 18.3834 7.33425C19.6576 7.33425 20.7712 8.02169 21.3736 9.04593C21.9906 8.4798 22.8133 8.13424 23.7167 8.13424C25.6313 8.13424 27.1834 9.68632 27.1834 11.6009V20.4009C27.1834 24.2301 24.0792 27.3342 20.25 27.3342L10.65 27.3342H10.1167V27.3331C9.94161 27.3317 9.81393 27.3286 9.69806 27.3216C6.1985 27.1099 3.40768 24.3191 3.196 20.8195C3.18335 20.6104 3.18335 20.3628 3.18335 19.8676V6.00092Z" fill="url(#paint0_linear_25594_78403)"/>
                        <mask id="mask0_25594_78403" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="3" y="2" width="25" height="26">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M3.18335 5.99994C3.18335 3.93808 4.85482 2.2666 6.91668 2.2666C8.97855 2.2666 10.65 3.93807 10.65 5.99994V7.49837C11.2729 6.90063 12.1186 6.53327 13.05 6.53327C14.3242 6.53327 15.4379 7.22072 16.0403 8.24496C16.6573 7.67882 17.48 7.33327 18.3834 7.33327C19.6576 7.33327 20.7712 8.02072 21.3736 9.04496C21.9906 8.47882 22.8133 8.13327 23.7167 8.13327C25.6313 8.13327 27.1834 9.68535 27.1834 11.5999V20.3999C27.1834 24.2291 24.0792 27.3333 20.25 27.3333L10.65 27.3333H10.1167V27.3321C9.94161 27.3308 9.81393 27.3276 9.69806 27.3206C6.1985 27.1089 3.40768 24.3181 3.196 20.8186C3.18335 20.6094 3.18335 20.3618 3.18335 19.8666V5.99994Z" fill="url(#paint1_linear_25594_78403)"/>
                        </mask>
                        <g mask="url(#mask0_25594_78403)">
                            <g filter="url(#filter0_f_25594_78403)">
                                <circle cx="3.58316" cy="1.86655" r="8.13333" fill="#FFD952"/>
                            </g>
                            <g filter="url(#filter1_f_25594_78403)">
                                <ellipse cx="25.5834" cy="25.8666" rx="13.0667" ry="7.06667" fill="#315CD8"/>
                            </g>
                        </g>
                        <path d="M5.58337 15.8671C5.58337 14.3586 5.58337 13.6044 6.052 13.1357C6.052 13.1357 6.052 13.1357 6.052 13.1357C6.52063 12.6671 7.27488 12.6671 8.78337 12.6671H21.5834C23.0919 12.6671 23.8461 12.6671 24.3147 13.1357C24.3147 13.1357 24.3147 13.1357 24.3147 13.1357C24.7834 13.6044 24.7834 14.3586 24.7834 15.8671C24.7834 20.1412 24.7834 22.2782 23.4556 23.606C23.4556 23.606 23.4556 23.606 23.4556 23.606C22.1278 24.9338 19.9908 24.9338 15.7167 24.9338H14.65C10.376 24.9338 8.23894 24.9338 6.91116 23.606C6.91116 23.606 6.91116 23.606 6.91115 23.606C5.58337 22.2782 5.58337 20.1412 5.58337 15.8671Z" fill="white"/>
                        <path d="M12.7832 18.2672C12.7832 19.74 12.4499 20.9339 10.7832 20.9339C9.11654 20.9339 8.7832 19.7487 8.7832 18.2672C8.7832 16.7857 9.11654 15.6005 10.7832 15.6005C12.4499 15.6005 12.7832 16.7944 12.7832 18.2672Z" fill="url(#paint2_linear_25594_78403)"/>
                        <path d="M21.5834 18.2672C21.5834 19.74 21.25 20.9339 19.5834 20.9339C17.9167 20.9339 17.5834 19.7487 17.5834 18.2672C17.5834 16.7857 17.9167 15.6005 19.5834 15.6005C21.25 15.6005 21.5834 16.7944 21.5834 18.2672Z" fill="url(#paint3_linear_25594_78403)"/>
                        <defs>
                            <filter id="filter0_f_25594_78403" x="-12.5502" y="-14.2668" width="32.2667" height="32.2667" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                                <feGaussianBlur stdDeviation="4" result="effect1_foregroundBlur_25594_78403"/>
                            </filter>
                            <filter id="filter1_f_25594_78403" x="4.51672" y="10.7999" width="42.1333" height="30.1334" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                                <feGaussianBlur stdDeviation="4" result="effect1_foregroundBlur_25594_78403"/>
                            </filter>
                            <linearGradient id="paint0_linear_25594_78403" x1="6.61157" y1="1.46758" x2="23.4871" y2="27.1623" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#F14C74"/>
                                <stop offset="0.961703" stop-color="#C44EE2"/>
                            </linearGradient>
                            <linearGradient id="paint1_linear_25594_78403" x1="6.61157" y1="1.4666" x2="23.4871" y2="27.1613" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#F14C74"/>
                                <stop offset="0.961703" stop-color="#C44EE2"/>
                            </linearGradient>
                            <linearGradient id="paint2_linear_25594_78403" x1="10.7832" y1="15.6005" x2="10.7832" y2="20.9339" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#2C2B30"/>
                                <stop offset="1" stop-color="#5F6067"/>
                            </linearGradient>
                            <linearGradient id="paint3_linear_25594_78403" x1="19.5834" y1="15.6005" x2="19.5834" y2="20.9339" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#2C2B30"/>
                                <stop offset="1" stop-color="#5F6067"/>
                            </linearGradient>
                        </defs>
                    </svg>
                    AI生成
                </h1>
                
                <!-- 子步骤导航条 -->
                <div class="border-b border-gray-200 mb-6">
                    <nav class="flex -mb-px">
                        <button id="tab-button-1" class="tab-button active px-6 py-3 border-b-2 border-blue-500 text-blue-500 font-medium">
                            <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-100 text-blue-600 text-xs font-medium mr-2">1</span>
                            行程单
                        </button>
                        <button id="tab-button-2" class="tab-button px-6 py-3 border-b-2 border-transparent text-gray-500 hover:text-gray-700 font-medium">
                            <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-gray-100 text-gray-600 text-xs font-medium mr-2">2</span>
                            交通推荐
                        </button>
                        <button id="tab-button-3" class="tab-button px-6 py-3 border-b-2 border-transparent text-gray-500 hover:text-gray-700 font-medium">
                            <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-gray-100 text-gray-600 text-xs font-medium mr-2">3</span>
                            酒店推荐
                        </button>
                    </nav>
                </div>
                
                <!-- AI状态提示条 -->
                <div id="aiStatusBar" class="bg-gradient-to-br from-indigo-50 via-purple-50 to-cyan-50 border border-indigo-200 rounded-xl p-4 mb-6 relative transition-all duration-500 shadow-lg">
                    <div class="flex items-start">
                        <!-- 现代化AI图标 -->
                        <div class="mr-4 flex-shrink-0 mt-1">
                            <div class="relative">
                                <svg width="24" height="24" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M13.1567 0.947315C13.1272 0.769025 12.8709 0.768796 12.8411 0.947033L12.8047 1.16428C12.6635 2.00638 12.0034 2.66603 11.1612 2.80649L10.9458 2.84241C10.7675 2.87214 10.7675 3.12831 10.9458 3.15805L11.1613 3.19402C12.0035 3.33454 12.6635 3.99415 12.8046 4.83618L12.8411 5.05344C12.8709 5.23167 13.1272 5.23144 13.1567 5.05316L13.1921 4.83969C13.332 3.9959 13.9929 3.33444 14.8366 3.19392L15.0519 3.15806C15.2302 3.12837 15.2302 2.87209 15.0519 2.84241L14.8367 2.80659C13.993 2.66613 13.3319 2.00463 13.1921 1.16077L13.1567 0.947315ZM8.39764 2.36747L8.61559 3.68243C8.93029 5.58111 10.4176 7.06949 12.3161 7.38553L13.6356 7.6052C14.0813 7.6794 14.0814 8.3201 13.6356 8.39433L12.3157 8.61417C10.4174 8.93034 8.9303 10.4186 8.6156 12.3172L8.39764 13.6321C8.32376 14.0778 7.68321 14.0784 7.60853 13.6328L7.38672 12.3092C7.06921 10.4147 5.58404 8.93056 3.68925 8.61439L2.3703 8.39431C1.92473 8.31997 1.92475 7.67953 2.37033 7.60522L3.6889 7.38531C5.58387 7.06927 7.06922 5.58507 7.38673 3.69034L7.60853 2.36677C7.6832 1.92118 8.32377 1.92175 8.39764 2.36747Z" fill="url(#paint0_linear_39202_159001)"/>
                                    <defs>
                                        <linearGradient id="paint0_linear_39202_159001" x1="2.4346" y1="0.813477" x2="17.2776" y2="13.9667" gradientUnits="userSpaceOnUse">
                                            <stop stop-color="#3EC6FF"/>
                                            <stop offset="0.450874" stop-color="#4C88FF"/>
                                            <stop offset="1" stop-color="#C567FF"/>
                                        </linearGradient>
                                    </defs>
                                </svg>
                                <div class="absolute inset-0 rounded-full bg-gradient-to-r from-cyan-400 to-purple-400 opacity-20 blur-sm"></div>
                            </div>
                        </div>
                        <div class="flex-grow min-w-0" style="margin-right: 16px; padding-right: 8px;">
                            <!-- 固定的主状态文本 -->
                            <p class="status-title text-lg" id="aiStatusText">行程单Agent分析中</p>
                            
                            <!-- 进度条 -->
                            <div class="h-2 progress-container rounded-full overflow-hidden" style="width: calc(100% - 16px); max-width: calc(100% - 16px); margin-top: 12px; margin-bottom: 8px;">
                                <div id="aiProgressBar" class="h-full rounded-full" style="width: 20%"></div>
                            </div>

                            <!-- 可滚动的分析日志区域 -->
                            <div id="aiStatusContent" class="overflow-y-auto" style="max-height: 80px;">
                                <div id="aiAnalysisLog" class="space-y-2 text-sm text-gray-600"></div>
                            </div>
                        </div>
                    </div>
                    <!-- 倒计时显示区（已禁用） -->
                    <div id="countdownDisplay" class="text-blue-700 font-bold text-2xl ml-4 hidden bg-blue-100 w-10 h-10 rounded-full flex items-center justify-center" style="display: none;"></div>
                </div>
                
                <!-- 申请单内容 -->
                <div id="tab-content-1" class="tab-content active">
                    <!-- 加载状态占位符 -->
                    <div id="applicationLoadingState" class="animate-pulse">
                        <div class="mt-3 h-6 bg-gray-200 rounded mb-6 w-3/4"></div>

                        <!-- 出发地-目的地占位 -->
                        <div class="bg-gray-200 p-6 rounded-lg mb-6 h-20"></div>

                        <!-- 日期信息占位 -->
                        <div class="grid grid-cols-3 gap-6 mb-6">
                            <div class="bg-gray-200 p-4 rounded-lg h-16"></div>
                            <div class="bg-gray-200 p-4 rounded-lg h-16"></div>
                            <div class="bg-gray-200 p-4 rounded-lg h-16"></div>
                        </div>

                        <!-- 行程明细占位 -->
                        <div class="bg-gray-200 rounded-lg p-5 mb-6 h-48"></div>

                        <div class="flex justify-end">
                            <div class="bg-gray-200 rounded-lg h-10 w-40"></div>
                        </div>
                    </div>

                    <!-- 真实内容（初始隐藏） -->
                    <div id="applicationRealContent" class="hidden opacity-0 transition-opacity duration-500">
                                            <p class="mt-3 text-lg text-gray-600 mb-6">
                        根据您当前录入的内容，已帮您自动生成行程单。请确认～
                    </p>

                        <!-- 出发地-目的地 -->
                        <div class="bg-gray-50 p-6 rounded-lg mb-6">
                            <div class="flex items-center justify-center text-xl font-medium">
                                <span class="text-gray-800">上海</span>
                                <svg class="w-8 h-8 mx-6 text-blue-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                                </svg>
                                <span class="text-gray-800">北京</span>
                            </div>
                        </div>

                        <!-- 日期信息 -->
                        <div class="grid grid-cols-3 gap-6 mb-6">
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-sm text-gray-500 mb-1">开始日期</p>
                                <p class="text-lg font-medium">2025-08-07 下午</p>
                            </div>
                                                    <div class="bg-gray-50 p-4 rounded-lg text-center">
                            <p class="text-sm text-gray-500 mb-1">出差天数</p>
                            <p class="text-lg font-medium">6天</p>
                        </div>
                            <div class="bg-gray-50 p-4 rounded-lg text-right">
                                <p class="text-sm text-gray-500 mb-1">结束日期</p>
                                <p class="text-lg font-medium">2025-08-13 上午</p>
                            </div>
                        </div>

                        <!-- 出差原因 -->
                        <div class="bg-gray-50 p-4 rounded-lg mb-6">
                            <p class="text-sm text-gray-500 mb-1">出差原因</p>
                            <p class="text-lg font-medium text-gray-800">去北京参加2025世界机器人大会</p>
                        </div>

                        <!-- 行程明细 -->
                        <div class="bg-white border border-gray-200 rounded-lg p-5 mb-6">
                            <h3 class="text-lg font-medium text-gray-800 mb-4">出差行程明细信息</h3>
                                                    <ul class="space-y-4">
                            <li class="journey-item py-2 border-b border-gray-100">
                                <div class="flex justify-between">
                                    <span class="text-gray-800">2025-08-07 下午</span>
                                    <span class="text-blue-600">0.5天</span>
                                </div>
                                <div class="flex items-center text-gray-600 mt-1">
                                    <span>上海</span>
                                    <i class="fas fa-long-arrow-alt-right mx-2 text-gray-400"></i>
                                    <span>北京</span>
                                </div>
                            </li>
                            <li class="journey-item py-2 border-b border-gray-100">
                                <div class="flex justify-between">
                                    <span class="text-gray-800">2025-08-08 ～ 2025-08-12</span>
                                    <span class="text-blue-600">5天</span>
                                </div>
                                <div class="flex items-center text-gray-600 mt-1">
                                    <span>北京</span>
                                    <i class="fas fa-location-dot mx-2 text-gray-400"></i>
                                    <span>北京经济技术开发区北人亦创国际会展中心</span>
                                </div>
                            </li>
                            <li class="journey-item py-2">
                                <div class="flex justify-between">
                                    <span class="text-gray-800">2025-08-13 上午</span>
                                    <span class="text-blue-600">0.5天</span>
                                </div>
                                <div class="flex items-center text-gray-600 mt-1">
                                    <span>北京</span>
                                    <i class="fas fa-long-arrow-alt-right mx-2 text-gray-400"></i>
                                    <span>上海</span>
                                </div>
                            </li>
                        </ul>
                        </div>

                        <div class="flex justify-end">
                            <button id="next-to-transport" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-8 rounded-lg flex items-center">
                                下一步：交通推荐
                                <i class="fas fa-arrow-right ml-2"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- 交通推荐内容 -->
                <div id="tab-content-2" class="tab-content">
                    <!-- 加载状态占位符 -->
                    <div id="transportLoadingState" class="animate-pulse">
                        <div class="mt-3 h-6 bg-gray-200 rounded mb-6 w-4/5"></div>

                        <!-- 天气预报占位 -->
                        <div class="mb-6">
                            <div class="h-6 bg-gray-200 rounded mb-3 w-40"></div>
                            <div class="grid grid-cols-3 gap-4">
                                <div class="bg-gray-200 rounded-lg h-24"></div>
                                <div class="bg-gray-200 rounded-lg h-24"></div>
                                <div class="bg-gray-200 rounded-lg h-24"></div>
                            </div>
                        </div>

                        <!-- 交通方式选择占位 -->
                        <div class="mb-5">
                            <div class="h-6 bg-gray-200 rounded mb-3 w-32"></div>
                            <div class="flex border-b border-gray-200">
                                <div class="h-10 bg-gray-200 rounded-t w-20 mr-4"></div>
                                <div class="h-10 bg-gray-200 rounded-t w-20"></div>
                            </div>
                        </div>

                        <!-- 航班列表占位 -->
                        <div class="space-y-3">
                            <div class="bg-gray-200 rounded-lg h-32"></div>
                            <div class="bg-gray-200 rounded-lg h-32"></div>
                            <div class="bg-gray-200 rounded-lg h-32"></div>
                        </div>

                        <div class="flex justify-end mt-6">
                            <div class="bg-gray-200 rounded-lg h-10 w-32 mr-3"></div>
                            <div class="bg-gray-200 rounded-lg h-10 w-40"></div>
                        </div>
                    </div>

                    <!-- 真实内容（初始隐藏） -->
                    <div id="transportRealContent" class="hidden opacity-0 transition-opacity duration-500">
                        <p class="mt-3 text-lg text-gray-600 mb-6">
                            根据您当前目的地位置、天气、距离还有单位报销额，多个Agent已帮您汇总推荐以下最优交通方式。
                        </p>

                        <!-- 天气预报 -->
                        <div class="mb-6">
                            <h3 class="text-lg font-medium text-gray-800 mb-3">北京7天天气预报（8.7～8.13）</h3>
                            <div class="grid grid-cols-4 lg:grid-cols-7 gap-3">
                                <div class="bg-gradient-to-br from-blue-50 to-sky-50 rounded-lg p-3 flex flex-col items-center">
                                    <p class="text-gray-500 mb-1 text-sm">08-07</p>
                                    <div class="text-yellow-500 text-2xl mb-1">
                                        <i class="fas fa-sun"></i>
                                    </div>
                                    <p class="text-gray-700 font-medium text-sm">晴天</p>
                                    <p class="text-xs text-gray-500 mt-1">27°C-34°C</p>
                                </div>
                                <div class="bg-gradient-to-br from-blue-50 to-sky-50 rounded-lg p-3 flex flex-col items-center">
                                    <p class="text-gray-500 mb-1 text-sm">08-08</p>
                                    <div class="text-yellow-500 text-2xl mb-1">
                                        <i class="fas fa-sun"></i>
                                    </div>
                                    <p class="text-gray-700 font-medium text-sm">晴天</p>
                                    <p class="text-xs text-gray-500 mt-1">28°C-35°C</p>
                                </div>
                                <div class="bg-gradient-to-br from-gray-50 to-blue-50 rounded-lg p-3 flex flex-col items-center">
                                    <p class="text-gray-500 mb-1 text-sm">08-09</p>
                                    <div class="text-gray-500 text-2xl mb-1">
                                        <i class="fas fa-cloud"></i>
                                    </div>
                                    <p class="text-gray-700 font-medium text-sm">多云</p>
                                    <p class="text-xs text-gray-500 mt-1">25°C-32°C</p>
                                </div>
                                <div class="bg-gradient-to-br from-blue-50 to-gray-100 rounded-lg p-3 flex flex-col items-center">
                                    <p class="text-gray-500 mb-1 text-sm">08-10</p>
                                    <div class="text-blue-500 text-2xl mb-1">
                                        <i class="fas fa-cloud-rain"></i>
                                    </div>
                                    <p class="text-gray-700 font-medium text-sm">小雨</p>
                                    <p class="text-xs text-gray-500 mt-1">22°C-28°C</p>
                                </div>
                                <div class="bg-gradient-to-br from-gray-50 to-blue-50 rounded-lg p-3 flex flex-col items-center">
                                    <p class="text-gray-500 mb-1 text-sm">08-11</p>
                                    <div class="text-gray-500 text-2xl mb-1">
                                        <i class="fas fa-cloud"></i>
                                    </div>
                                    <p class="text-gray-700 font-medium text-sm">多云</p>
                                    <p class="text-xs text-gray-500 mt-1">24°C-30°C</p>
                                </div>
                                <div class="bg-gradient-to-br from-blue-50 to-sky-50 rounded-lg p-3 flex flex-col items-center">
                                    <p class="text-gray-500 mb-1 text-sm">08-12</p>
                                    <div class="text-yellow-500 text-2xl mb-1">
                                        <i class="fas fa-sun"></i>
                                    </div>
                                    <p class="text-gray-700 font-medium text-sm">晴天</p>
                                    <p class="text-xs text-gray-500 mt-1">26°C-33°C</p>
                                </div>
                                <div class="bg-gradient-to-br from-blue-50 to-sky-50 rounded-lg p-3 flex flex-col items-center">
                                    <p class="text-gray-500 mb-1 text-sm">08-13</p>
                                    <div class="text-yellow-500 text-2xl mb-1">
                                        <i class="fas fa-sun"></i>
                                    </div>
                                    <p class="text-gray-700 font-medium text-sm">晴天</p>
                                    <p class="text-xs text-gray-500 mt-1">27°C-34°C</p>
                                </div>
                            </div>
                        </div>

                    <!-- 交通方式选择 -->
                    <div class="mb-5">
                        <h3 class="text-lg font-medium text-gray-800 mb-3">推荐交通方式</h3>
                        <div class="flex border-b border-gray-200">
                            <button id="tab-plane" class="py-2 px-4 text-gray-600 font-medium flex items-center transport-tab">
                                <i class="fas fa-plane mr-2"></i>飞机
                            </button>
                            <button id="tab-train" class="py-2 px-4 border-b-2 border-blue-500 text-blue-600 font-medium flex items-center transport-tab active">
                                <i class="fas fa-train mr-2"></i>高铁
                                <span class="ml-2 text-xs bg-blue-100 text-blue-600 py-0.5 px-1.5 rounded">推荐</span>
                            </button>
                        </div>
                    </div>

                    <!-- 飞机列表 -->
                    <div id="content-plane" class="transport-content hidden">
                        <div class="bg-white border border-gray-200 rounded-lg p-4 mb-3 shadow-md relative transport-option cursor-pointer" data-type="plane" data-id="MU5137" onclick="selectTransport(this)">
                            <!-- 选择框 -->
                            <div class="absolute top-3 left-3">
                                <input type="radio" name="transport-selection" value="plane-MU5137" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500">
                            </div>
                            
                            <div class="flex justify-between items-center mb-2">
                                <div class="flex items-center">
                                    <img src="https://picsum.photos/id/24/30/30" alt="航空公司" class="w-8 h-8 rounded-full mr-2">
                                    <span class="font-medium">东方航空 MU5137</span>
                                </div>
                                <div class="text-xl font-bold text-red-500">¥650</div>
                            </div>
                            <div class="flex justify-between items-center mt-3">
                                <div class="text-center">
                                    <div class="text-lg font-medium">08:00</div>
                                    <div class="text-sm text-gray-500">上海浦东机场 T1</div>
                                </div>
                                <div class="flex flex-col items-center mx-4">
                                    <div class="text-sm text-gray-500">2小时10分钟</div>
                                    <div class="w-24 h-0.5 bg-gray-300 relative my-1">
                                        <div class="absolute -top-1.5 right-0 w-3 h-3 transform rotate-45 border-t-2 border-r-2 border-gray-300"></div>
                                    </div>
                                    <div class="text-xs text-gray-500">直飞</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-lg font-medium">10:10</div>
                                    <div class="text-sm text-gray-500">北京首都机场 T2</div>
                                </div>
                            </div>
                            <div class="mt-2 bg-green-50 rounded-lg p-2 border border-green-100">
                                <div class="text-sm text-green-700">
                                    <i class="fas fa-check-circle mr-1"></i>
                                    AI分析：最佳性价比选择，准点率高，行李额度充足
                                </div>
                            </div>
                        </div>

                        <div class="bg-white border border-gray-200 rounded-lg p-4 mb-3 relative transport-option cursor-pointer" data-type="plane" data-id="MU5238" onclick="selectTransport(this)">
                            <!-- 选择框 -->
                            <div class="absolute top-3 left-3">
                                <input type="radio" name="transport-selection" value="plane-MU5238" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500">
                            </div>
                            <div class="flex justify-between items-center mb-2">
                                <div class="flex items-center">
                                    <img src="https://picsum.photos/id/26/30/30" alt="航空公司" class="w-8 h-8 rounded-full mr-2">
                                    <span class="font-medium">东方航空 MU5238</span>
                                </div>
                                <div class="text-xl font-bold text-red-500">¥920</div>
                            </div>
                            <div class="flex justify-between items-center mt-3">
                                <div class="text-center">
                                    <div class="text-lg font-medium">10:15</div>
                                    <div class="text-sm text-gray-500">北京首都机场 T3</div>
                                </div>
                                <div class="flex flex-col items-center mx-4">
                                    <div class="text-sm text-gray-500">2小时20分钟</div>
                                    <div class="w-24 h-0.5 bg-gray-300 relative my-1">
                                        <div class="absolute -top-1.5 right-0 w-3 h-3 transform rotate-45 border-t-2 border-r-2 border-gray-300"></div>
                                    </div>
                                    <div class="text-xs text-gray-500">直飞</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-lg font-medium">12:35</div>
                                    <div class="text-sm text-gray-500">深圳宝安机场 T3</div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white border border-gray-200 rounded-lg p-4 mb-3 relative transport-option cursor-pointer" data-type="plane" data-id="CA1835" onclick="selectTransport(this)">
                            <!-- 选择框 -->
                            <div class="absolute top-3 left-3">
                                <input type="radio" name="transport-selection" value="plane-CA1835" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500">
                            </div>
                            <div class="flex justify-between items-center mb-2">
                                <div class="flex items-center">
                                    <img src="https://picsum.photos/id/28/30/30" alt="航空公司" class="w-8 h-8 rounded-full mr-2">
                                    <span class="font-medium">国航 CA1835</span>
                                </div>
                                <div class="text-xl font-bold text-red-500">¥830</div>
                            </div>
                            <div class="flex justify-between items-center mt-3">
                                <div class="text-center">
                                    <div class="text-lg font-medium">13:40</div>
                                    <div class="text-sm text-gray-500">北京首都机场 T3</div>
                                </div>
                                <div class="flex flex-col items-center mx-4">
                                    <div class="text-sm text-gray-500">2小时40分钟</div>
                                    <div class="w-24 h-0.5 bg-gray-300 relative my-1">
                                        <div class="absolute -top-1.5 right-0 w-3 h-3 transform rotate-45 border-t-2 border-r-2 border-gray-300"></div>
                                    </div>
                                    <div class="text-xs text-gray-500">直飞</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-lg font-medium">16:20</div>
                                    <div class="text-sm text-gray-500">深圳宝安机场 T3</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 高铁列表 -->
                    <div id="content-train" class="transport-content active">
                        <div class="bg-white border-2 border-green-500 rounded-lg p-4 mb-3 shadow-md relative transport-option cursor-pointer" data-type="train" data-id="G16" onclick="selectTransport(this)">
                            <!-- 选择框 -->
                            <div class="absolute top-3 left-3">
                                <input type="radio" name="transport-selection" value="train-G16" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500">
                            </div>
                            <!-- AI推荐标签 -->
                            <div class="absolute -top-3 -right-3 bg-green-500 text-white px-3 py-1 rounded-lg shadow-md flex items-center">
                                <svg width="20" height="20" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="mr-1">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M3.18335 6.00092C3.18335 3.93905 4.85482 2.26758 6.91668 2.26758C8.97855 2.26758 10.65 3.93905 10.65 6.00091V7.49935C11.2729 6.90161 12.1186 6.53425 13.05 6.53425C14.3242 6.53425 15.4379 7.22169 16.0403 8.24593C16.6573 7.6798 17.48 7.33425 18.3834 7.33425C19.6576 7.33425 20.7712 8.02169 21.3736 9.04593C21.9906 8.4798 22.8133 8.13424 23.7167 8.13424C25.6313 8.13424 27.1834 9.68632 27.1834 11.6009V20.4009C27.1834 24.2301 24.0792 27.3342 20.25 27.3342L10.65 27.3342H10.1167V27.3331C9.94161 27.3317 9.81393 27.3286 9.69806 27.3216C6.1985 27.1099 3.40768 24.3191 3.196 20.8195C3.18335 20.6104 3.18335 20.3628 3.18335 19.8676V6.00092Z" fill="white"/>
                                </svg>
                                <span class="font-bold">AI推荐</span>
                            </div>
                            
                            <div class="flex justify-between items-center mb-2">
                                <div class="flex items-center">
                                    <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 mr-2">
                                        <i class="fas fa-train"></i>
                                    </div>
                                    <span class="font-medium">G16 高铁</span>
                                </div>
                                <div class="text-xl font-bold text-red-500">¥553</div>
                            </div>
                            <div class="flex justify-between items-center mt-3">
                                <div class="text-center">
                                    <div class="text-lg font-medium">08:00</div>
                                    <div class="text-sm text-gray-500">上海虹桥站</div>
                                </div>
                                <div class="flex flex-col items-center mx-4">
                                    <div class="text-sm text-gray-500">4小时41分钟</div>
                                    <div class="w-24 h-0.5 bg-gray-300 relative my-1">
                                        <div class="absolute -top-1.5 right-0 w-3 h-3 transform rotate-45 border-t-2 border-r-2 border-gray-300"></div>
                                    </div>
                                    <div class="text-xs text-gray-500">直达</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-lg font-medium">12:41</div>
                                    <div class="text-sm text-gray-500">北京南站</div>
                                </div>
                            </div>
                            <div class="mt-2 bg-green-50 rounded-lg p-2 border border-green-100">
                                <div class="text-sm text-green-700">
                                    <i class="fas fa-check-circle mr-1"></i>
                                    AI分析：时间最优选择，舒适度高，价格合理
                                </div>
                            </div>
                        </div>

                        <div class="bg-white border border-gray-200 rounded-lg p-4 mb-3 relative transport-option cursor-pointer" data-type="train" data-id="G110" onclick="selectTransport(this)">
                            <!-- 选择框 -->
                            <div class="absolute top-3 left-3">
                                <input type="radio" name="transport-selection" value="train-G110" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500">
                            </div>
                            <div class="flex justify-between items-center mb-2">
                                <div class="flex items-center">
                                    <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 mr-2">
                                        <i class="fas fa-train"></i>
                                    </div>
                                    <span class="font-medium">G110 高铁</span>
                                </div>
                                <div class="text-xl font-bold text-red-500">¥553</div>
                            </div>
                            <div class="flex justify-between items-center mt-3">
                                <div class="text-center">
                                    <div class="text-lg font-medium">10:00</div>
                                    <div class="text-sm text-gray-500">上海虹桥站</div>
                                </div>
                                <div class="flex flex-col items-center mx-4">
                                    <div class="text-sm text-gray-500">5小时54分钟</div>
                                    <div class="w-24 h-0.5 bg-gray-300 relative my-1">
                                        <div class="absolute -top-1.5 right-0 w-3 h-3 transform rotate-45 border-t-2 border-r-2 border-gray-300"></div>
                                    </div>
                                    <div class="text-xs text-gray-500">直达</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-lg font-medium">15:54</div>
                                    <div class="text-sm text-gray-500">北京南站</div>
                                </div>
                            </div>
                        </div>
                    </div>

                        <div class="flex justify-end mt-6">
                                                    <button id="back-to-application" class="border border-gray-300 bg-white hover:bg-gray-50 text-gray-700 font-medium py-2.5 px-6 rounded-lg flex items-center mr-3">
                            <i class="fas fa-arrow-left mr-2"></i>
                            上一步：行程单
                        </button>
                            <button id="next-to-hotel" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-8 rounded-lg flex items-center">
                                下一步：酒店推荐
                                <i class="fas fa-arrow-right ml-2"></i>
                            </button>
                        </div>
                    </div> <!-- 结束 transportRealContent -->
                </div> <!-- 结束 tab-content-2 -->
                
                <!-- 酒店推荐内容 -->
                <div id="tab-content-3" class="tab-content">
                    <!-- 加载状态占位符 -->
                    <div id="hotelLoadingState" class="animate-pulse">
                        <div class="mt-3 h-6 bg-gray-200 rounded mb-6 w-4/5"></div>

                        <!-- 地图预览占位 -->
                        <div class="mb-6">
                            <div class="h-6 bg-gray-200 rounded mb-3 w-32"></div>
                            <div class="bg-gray-200 rounded-lg h-56"></div>
                        </div>

                        <!-- 酒店分类占位 -->
                        <div class="mb-5">
                            <div class="h-6 bg-gray-200 rounded mb-3 w-24"></div>
                            <div class="flex border-b border-gray-200">
                                <div class="h-10 bg-gray-200 rounded-t w-32 mr-4"></div>
                                <div class="h-10 bg-gray-200 rounded-t w-24"></div>
                            </div>
                        </div>

                        <!-- 酒店列表占位 -->
                        <div class="space-y-4">
                            <div class="bg-gray-200 rounded-lg h-48"></div>
                            <div class="bg-gray-200 rounded-lg h-48"></div>
                        </div>

                        <div class="flex justify-end mt-6">
                            <div class="bg-gray-200 rounded-lg h-10 w-32 mr-3"></div>
                            <div class="bg-gray-200 rounded-lg h-10 w-40"></div>
                        </div>
                    </div>

                    <!-- 真实内容（初始隐藏） -->
                    <div id="hotelRealContent" class="hidden opacity-0 transition-opacity duration-500">
                        <p class="mt-3 text-lg text-gray-600 mb-6">
                            根据您的目的地位置、行程和公司出差标准，已为您筛选出最合适的酒店推荐。
                        </p>

                        <!-- 地图预览 -->
                        <div class="mb-6">
                            <h3 class="text-lg font-medium text-gray-800 mb-3">北人亦创国际会展中心附近酒店分布</h3>
                            <div class="bg-gray-100 rounded-lg h-64 relative overflow-hidden border border-gray-200">
                                <!-- 使用百度地图静态地图API -->
                                <div id="baiduMapContainer" class="w-full h-full relative">
                                    <!-- 主地图图片 -->
                                    <img 
                                        id="baiduMapImage"
                                        src="https://api.map.baidu.com/staticimage/v2?ak=2bTSEtGSuLJXkmt7rLX4PqWG&center=116.527,39.795&width=1200&height=256&zoom=12&dpiType=ph&scale=2&copyright=1&coordtype=wgs84ll&qq-pf-to=pcqq.c2c"
                                        alt="北人亦创国际会展中心附近酒店分布地图" 
                                        class="w-full h-full object-cover rounded-lg"
                                        onload="handleBaiduMapSuccess()"
                                        onerror="handleBaiduMapError()"
                                        crossorigin="anonymous">
                                    
                                    <!-- 备用地图方案（如果百度地图加载失败） -->
                                    <div id="mapFallback" class="absolute inset-0 bg-gradient-to-br from-blue-100 to-green-100 hidden">
                                        <div class="w-full h-full flex items-center justify-center">
                                            <div class="text-center">
                                                <div class="mb-4">
                                                    <i class="fas fa-map-marked-alt text-5xl text-blue-600"></i>
                                                </div>
                                                <h4 class="text-lg font-semibold text-gray-800 mb-2">智能地图导航</h4>
                                                <p class="text-sm text-gray-600 mb-4">北人亦创国际会展中心 (116.527, 39.795)</p>
                                                <div class="space-y-2 text-xs">
                                                    <div class="flex items-center justify-center">
                                                        <span class="w-3 h-3 bg-red-500 rounded-full mr-2"></span>
                                                        <span>🅰 北人亦创国际会展中心 (目的地)</span>
                                                    </div>
                                                    <div class="flex items-center justify-center">
                                                        <span class="w-3 h-3 bg-green-500 rounded-full mr-2"></span>
                                                        <span>🅱 诺富特酒店 (AI推荐)</span>
                                                    </div>
                                                    <div class="flex items-center justify-center">
                                                        <span class="w-3 h-3 bg-blue-500 rounded-full mr-2"></span>
                                                        <span>Ⓒ-Ⓕ 其他推荐酒店</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 智能地图操作面板 -->
                                <div class="absolute top-3 right-3 bg-white bg-opacity-90 rounded-lg shadow-md p-2 space-y-1">
                                    <button onclick="openBaiduMap()" class="text-xs text-blue-600 hover:text-blue-800 flex items-center w-full">
                                        <i class="fas fa-external-link-alt mr-1"></i>
                                        在百度地图中查看
                                    </button>
                                    <button onclick="handleBaiduMapError()" class="text-xs text-gray-600 hover:text-gray-800 flex items-center w-full" title="测试备用地图">
                                        <i class="fas fa-map mr-1"></i>
                                        备用地图
                                    </button>
                                </div>
                                
                                <!-- 图例覆盖层 -->
                                <div class="absolute bottom-3 left-3 bg-white bg-opacity-90 rounded-lg shadow-md p-3">
                                    <div class="text-xs font-medium mb-2">图例说明</div>
                                    <div class="flex items-center mb-1">
                                        <div class="w-3 h-3 bg-green-600 rounded-full mr-2"></div>
                                        <span class="text-xs">🅱 AI推荐酒店</span>
                                    </div>
                                    <div class="flex items-center mb-1">
                                        <div class="w-3 h-3 bg-blue-600 rounded-full mr-2"></div>
                                        <span class="text-xs">Ⓒ 其他酒店</span>
                                    </div>
                                    <div class="flex items-center">
                                        <div class="w-3 h-3 bg-red-600 rounded-full mr-2"></div>
                                        <span class="text-xs">🅰 北人亦创国际会展中心</span>
                                    </div>
                                </div>
                                
                                <!-- 百度地图定位信息 -->
                                <div class="absolute top-1/4 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white px-2 py-1 rounded text-xs">
                                    百度地图精确定位：116.527, 39.795
                                </div>
                            </div>
                        </div>

                        <!-- 酒店分类 -->
                        <div class="mb-5">
                            <h3 class="text-lg font-medium text-gray-800 mb-3">推荐酒店</h3>
                        <div class="flex border-b border-gray-200">
                            <button id="tab-standard" class="py-2 px-4 border-b-2 border-blue-500 text-blue-600 font-medium flex items-center hotel-tab active">
                                <i class="fas fa-star mr-2"></i>商务舒适型
                                <span class="ml-2 text-xs bg-blue-100 text-blue-600 py-0.5 px-1.5 rounded">符合标准</span>
                            </button>
                            <button id="tab-budget" class="py-2 px-4 text-gray-600 font-medium flex items-center hotel-tab">
                                <i class="fas fa-money-bill-wave mr-2"></i>经济实惠型
                            </button>
                        </div>
                    </div>

                    <!-- 商务酒店列表 -->
                    <div id="content-standard" class="hotel-content active">
                        <!-- AI推荐酒店 -->
                        <div class="bg-white border-2 border-green-500 rounded-lg overflow-hidden mb-4 shadow-md relative">
                            <!-- AI推荐标签 -->
                            <div class="absolute top-3 right-3 bg-green-500 text-white px-3 py-1 rounded-lg shadow-md flex items-center z-10">
                                <svg width="20" height="20" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="mr-1">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M3.18335 6.00092C3.18335 3.93905 4.85482 2.26758 6.91668 2.26758C8.97855 2.26758 10.65 3.93905 10.65 6.00091V7.49935C11.2729 6.90161 12.1186 6.53425 13.05 6.53425C14.3242 6.53425 15.4379 7.22169 16.0403 8.24593C16.6573 7.6798 17.48 7.33425 18.3834 7.33425C19.6576 7.33425 20.7712 8.02169 21.3736 9.04593C21.9906 8.4798 22.8133 8.13424 23.7167 8.13424C25.6313 8.13424 27.1834 9.68632 27.1834 11.6009V20.4009C27.1834 24.2301 24.0792 27.3342 20.25 27.3342L10.65 27.3342H10.1167V27.3331C9.94161 27.3317 9.81393 27.3286 9.69806 27.3216C6.1985 27.1099 3.40768 24.3191 3.196 20.8195C3.18335 20.6104 3.18335 20.3628 3.18335 19.8676V6.00092Z" fill="white"/>
                                </svg>
                                <span class="font-bold">AI推荐</span>
                            </div>
                            
                            <div class="flex">
                                <div class="w-1/3">
                                    <img src="https://picsum.photos/id/164/300/200" alt="北京诺富特酒店" class="h-full w-full object-cover">
                                </div>
                                <div class="w-2/3 p-4">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <h4 class="text-xl font-medium">北京诺富特酒店</h4>
                                            <div class="flex items-center mt-1">
                                                <div class="flex text-yellow-400">
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                </div>
                                                <span class="text-sm text-gray-500 ml-2">4.5分</span>
                                            </div>
                                        </div>
                                        <div class="text-2xl font-bold text-red-500">¥580</div>
                                    </div>
                                    
                                    <div class="mt-3">
                                        <div class="flex items-center text-sm text-gray-600 mb-2">
                                            <i class="fas fa-map-marker-alt text-red-500 mr-2"></i>
                                            <span>大兴区亦庄经济技术开发区科创十一街18号</span>
                                            <span class="ml-2 px-2 py-0.5 bg-blue-50 text-blue-700 rounded text-xs">距北人亦创国际会展中心 2.5 公里</span>
                                        </div>
                                        <div class="flex flex-wrap mt-3">
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">免费WiFi</span>
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">免费停车</span>
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">健身中心</span>
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">商务中心</span>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-3 bg-green-50 rounded-lg p-2 border border-green-100">
                                        <div class="text-sm text-green-700">
                                            <i class="fas fa-check-circle mr-1"></i>
                                            AI分析：符合公司住宿标准，临近北人亦创国际会展中心，配套设施完善，评分最高
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 万豪酒店 -->
                        <div class="bg-white border border-gray-200 rounded-lg overflow-hidden mb-4 hover:shadow-md transition-shadow">
                            <div class="flex">
                                <div class="w-1/3">
                                    <img src="https://picsum.photos/id/258/300/200" alt="北京万豪酒店" class="h-full w-full object-cover">
                                </div>
                                <div class="w-2/3 p-4">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <h4 class="text-xl font-medium">北京万豪酒店</h4>
                                            <div class="flex items-center mt-1">
                                                <div class="flex text-yellow-400">
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="far fa-star"></i>
                                                </div>
                                                <span class="text-sm text-gray-500 ml-2">4.3分</span>
                                            </div>
                                        </div>
                                        <div class="text-2xl font-bold text-red-500">¥650</div>
                                    </div>
                                    
                                    <div class="mt-3">
                                        <div class="flex items-center text-sm text-gray-600 mb-2">
                                            <i class="fas fa-map-marker-alt text-red-500 mr-2"></i>
                                            <span>大兴区亦庄经济技术开发区科创五街1号</span>
                                            <span class="ml-2 px-2 py-0.5 bg-blue-50 text-blue-700 rounded text-xs">距北人亦创国际会展中心 3.2 公里</span>
                                        </div>
                                        <div class="flex flex-wrap mt-3">
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">免费WiFi</span>
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">行政酒廊</span>
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">健身房</span>
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">商务中心</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 亦庄假日酒店 -->
                        <div class="bg-white border border-gray-200 rounded-lg overflow-hidden mb-4 hover:shadow-md transition-shadow">
                            <div class="flex">
                                <div class="w-1/3">
                                    <img src="https://picsum.photos/id/342/300/200" alt="亦庄假日酒店" class="h-full w-full object-cover">
                                </div>
                                <div class="w-2/3 p-4">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <h4 class="text-xl font-medium">亦庄假日酒店</h4>
                                            <div class="flex items-center mt-1">
                                                <div class="flex text-yellow-400">
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="far fa-star"></i>
                                                </div>
                                                <span class="text-sm text-gray-500 ml-2">4.2分</span>
                                            </div>
                                        </div>
                                        <div class="text-2xl font-bold text-red-500">¥480</div>
                                    </div>
                                    
                                    <div class="mt-3">
                                        <div class="flex items-center text-sm text-gray-600 mb-2">
                                            <i class="fas fa-map-marker-alt text-red-500 mr-2"></i>
                                            <span>大兴区亦庄经济技术开发区博兴路10号</span>
                                            <span class="ml-2 px-2 py-0.5 bg-blue-50 text-blue-700 rounded text-xs">距北人亦创国际会展中心 1.8 公里</span>
                                        </div>
                                        <div class="flex flex-wrap mt-3">
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">免费WiFi</span>
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">免费早餐</span>
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">健身房</span>
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">会议室</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 亦庄希尔顿酒店 -->
                        <div class="bg-white border border-gray-200 rounded-lg overflow-hidden mb-4 hover:shadow-md transition-shadow">
                            <div class="flex">
                                <div class="w-1/3">
                                    <img src="https://picsum.photos/id/96/300/200" alt="亦庄希尔顿酒店" class="h-full w-full object-cover">
                                </div>
                                <div class="w-2/3 p-4">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <h4 class="text-xl font-medium">亦庄希尔顿酒店</h4>
                                            <div class="flex items-center mt-1">
                                                <div class="flex text-yellow-400">
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                </div>
                                                <span class="text-sm text-gray-500 ml-2">4.7分</span>
                                            </div>
                                        </div>
                                        <div class="text-2xl font-bold text-red-500">¥780</div>
                                    </div>
                                    
                                    <div class="mt-3">
                                        <div class="flex items-center text-sm text-gray-600 mb-2">
                                            <i class="fas fa-map-marker-alt text-red-500 mr-2"></i>
                                            <span>大兴区亦庄经济技术开发区东环北路2号</span>
                                            <span class="ml-2 px-2 py-0.5 bg-blue-50 text-blue-700 rounded text-xs">距北人亦创国际会展中心 1.5 公里</span>
                                        </div>
                                        <div class="flex flex-wrap mt-3">
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">免费WiFi</span>
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">行政酒廊</span>
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">室内游泳池</span>
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">豪华水疗</span>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-3 bg-green-50 rounded-lg p-2 border border-green-100">
                                        <div class="text-sm text-green-700">
                                            <i class="fas fa-check-circle mr-1"></i>
                                            豪华酒店，设施齐全，服务一流。但价格较高。
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 亦庄国际酒店 -->
                        <div class="bg-white border border-gray-200 rounded-lg overflow-hidden mb-4 hover:shadow-md transition-shadow">
                            <div class="flex">
                                <div class="w-1/3">
                                    <img src="https://picsum.photos/id/167/300/200" alt="亦庄国际酒店" class="h-full w-full object-cover">
                                </div>
                                <div class="w-2/3 p-4">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <h4 class="text-xl font-medium">亦庄国际酒店</h4>
                                            <div class="flex items-center mt-1">
                                                <div class="flex text-yellow-400">
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="far fa-star"></i>
                                                </div>
                                                <span class="text-sm text-gray-500 ml-2">4.1分</span>
                                            </div>
                                        </div>
                                        <div class="text-2xl font-bold text-red-500">¥520</div>
                                    </div>
                                    
                                    <div class="mt-3">
                                        <div class="flex items-center text-sm text-gray-600 mb-2">
                                            <i class="fas fa-map-marker-alt text-red-500 mr-2"></i>
                                            <span>大兴区亦庄经济技术开发区万源街18号</span>
                                            <span class="ml-2 px-2 py-0.5 bg-blue-50 text-blue-700 rounded text-xs">距北人亦创国际会展中心 2.8 公里</span>
                                        </div>
                                        <div class="flex flex-wrap mt-3">
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">免费WiFi</span>
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">免费停车</span>
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">游泳池</span>
                                            <span class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded mr-2 mb-2">健身中心</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                        <div class="flex justify-end mt-6">
                            <button id="back-to-transport" class="border border-gray-300 bg-white hover:bg-gray-50 text-gray-700 font-medium py-2.5 px-6 rounded-lg flex items-center mr-3">
                                <i class="fas fa-arrow-left mr-2"></i>
                                上一步：交通推荐
                            </button>
                            <a href="confirm_order.html" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-8 rounded-lg flex items-center">
                                下一步：确认订单
                                <i class="fas fa-arrow-right ml-2"></i>
                            </a>
                        </div>
                    </div> <!-- 结束 hotelRealContent -->
                </div> <!-- 结束 tab-content-3 -->
            </div>
        </div>
    </main>

    <script>
        // 标签页切换逻辑
        document.addEventListener('DOMContentLoaded', function() {
            // 读取home页面的时间信息并更新页面显示
            const confirmedStartTime = localStorage.getItem('confirmedStartTime');
            const confirmedReturnTime = localStorage.getItem('confirmedReturnTime');
            
            if (confirmedStartTime && confirmedReturnTime) {
                // 更新开始日期和结束日期显示
                // 这里可以根据实际需要添加时间解析和格式化逻辑
                console.log('从home页读取的开始时间:', confirmedStartTime);
                console.log('从home页读取的结束时间:', confirmedReturnTime);
            }
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            
            // 切换标签页的函数
            function switchTab(tabId) {
                // 移除所有活动状态
                tabButtons.forEach(btn => {
                    btn.classList.remove('active');
                    btn.classList.remove('border-blue-500', 'text-blue-500');
                    btn.classList.add('border-transparent', 'text-gray-500');
                    
                    // 更新数字样式
                    const numSpan = btn.querySelector('span');
                    numSpan.classList.remove('bg-blue-100', 'text-blue-600');
                    numSpan.classList.add('bg-gray-100', 'text-gray-600');
                });
                
                tabContents.forEach(content => {
                    content.classList.remove('active');
                });
                
                // 添加活动状态到当前标签
                const activeButton = document.getElementById('tab-button-' + tabId);
                activeButton.classList.add('active');
                activeButton.classList.remove('border-transparent', 'text-gray-500');
                activeButton.classList.add('border-blue-500', 'text-blue-500');
                
                // 更新数字样式
                const activeNumSpan = activeButton.querySelector('span');
                activeNumSpan.classList.remove('bg-gray-100', 'text-gray-600');
                activeNumSpan.classList.add('bg-blue-100', 'text-blue-600');
                
                const activeContent = document.getElementById('tab-content-' + tabId);
                activeContent.classList.add('active');
                
                // 根据不同标签页更新AI状态和分析日志
                updateTabAnalysis(tabId);
            }
            
            // 显示酒店推荐真实内容函数
            function showHotelContent() {
                const loadingState = document.getElementById('hotelLoadingState');
                const realContent = document.getElementById('hotelRealContent');
                
                if (loadingState && realContent) {
                    // 隐藏加载状态
                    loadingState.style.display = 'none';
                    
                    // 显示真实内容
                    realContent.classList.remove('hidden');
                    realContent.style.display = 'block';
                    setTimeout(() => {
                        realContent.classList.remove('opacity-0');
                        realContent.classList.add('opacity-100');
                    }, 50);
                }
            }

            // 隐藏酒店推荐真实内容函数
            function hideHotelContent() {
                const loadingState = document.getElementById('hotelLoadingState');
                const realContent = document.getElementById('hotelRealContent');
                
                if (loadingState && realContent) {
                    // 显示加载状态
                    loadingState.style.display = 'block';
                    
                    // 隐藏真实内容
                    realContent.classList.add('opacity-0');
                    realContent.classList.remove('opacity-100');
                    setTimeout(() => {
                        realContent.classList.add('hidden');
                    }, 300);
                }
            }
            
            // 根据标签页更新分析内容
            function updateTabAnalysis(tabId) {
                clearAnalysisLog();
                
                switch(tabId) {
                    case '1': // 申请单
                        // 如果从其他标签切换过来，需要隐藏其他内容
                        hideTransportContent();
                        hideHotelContent();
                        
                        // 初始状态：分析中
                        updateProgress(20, '行程单Agent分析中');
                        
                        // 逐步添加分析日志
                        addAnalysisLog('<svg class="inline-block w-4 h-4 mr-2 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>行程单Agent正在拆解出发地信息...', 1000);
                        addAnalysisLog('<svg class="inline-block w-4 h-4 mr-2 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>行程单Agent正在拆解目的地信息...', 2000);
                        addAnalysisLog('<svg class="inline-block w-4 h-4 mr-2 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>行程单Agent正在拆解开始时间...', 3000);
                        addAnalysisLog('<svg class="inline-block w-4 h-4 mr-2 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>行程单Agent已完成信息拆解，生成标准行程单', 5000);
                        
                        // 显示真实内容（在最后一行日志显示时）
                        setTimeout(() => {
                            showApplicationContent();
                        }, 5000);
                        
                        // 最终状态：分析完成
                        setTimeout(() => {
                            updateProgress(100, '行程单Agent分析完成');
                        }, 5500);
                        break;
                    case '2': // 交通推荐
                        // 如果从其他标签切换过来，需要隐藏其他内容
                        hideApplicationContent();
                        hideHotelContent();
                        
                        // 初始状态：分析中
                        updateProgress(20, '交通Agent分析中');
                        
                        // 逐步添加分析日志
                        addAnalysisLog('<svg class="inline-block w-4 h-4 mr-2 text-blue-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>交通Agent正在分析出行距离（上海-北京）...', 1000);
                        addAnalysisLog('<svg class="inline-block w-4 h-4 mr-2 text-blue-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>交通Agent正在查询上海天气状况...', 2000);
                        addAnalysisLog('<svg class="inline-block w-4 h-4 mr-2 text-blue-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>交通Agent正在查询北京天气状况...', 3000);
                        addAnalysisLog('<svg class="inline-block w-4 h-4 mr-2 text-blue-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>交通Agent正在分析个人报销额度...', 4000);
                        addAnalysisLog('<svg class="inline-block w-4 h-4 mr-2 text-blue-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>交通Agent已汇总分析结果，生成推荐列表', 5000);
                        
                        // 显示真实内容（在最后一行日志显示时）
                        setTimeout(() => {
                            showTransportContent();
                        }, 5000);
                        
                        // 最终状态：分析完成
                        setTimeout(() => {
                            updateProgress(100, '交通Agent分析完成');
                        }, 5500);
                        break;
                    case '3': // 酒店推荐
                        // 如果从其他标签切换过来，需要隐藏其他内容
                        hideApplicationContent();
                        hideTransportContent();
                        
                        // 初始状态：分析中
                        updateProgress(20, '酒店Agent分析中');
                        
                        // 逐步添加分析日志
                        addAnalysisLog('<svg class="inline-block w-4 h-4 mr-2 text-purple-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>酒店Agent正在分析目的地位置（北人亦创国际会展中心）...', 1000);
                        addAnalysisLog('<svg class="inline-block w-4 h-4 mr-2 text-purple-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>酒店Agent正在查询周边酒店资源...', 2000);
                        addAnalysisLog('<svg class="inline-block w-4 h-4 mr-2 text-purple-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>酒店Agent正在分析个人报销预算范围...', 3000);
                        addAnalysisLog('<svg class="inline-block w-4 h-4 mr-2 text-purple-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>酒店Agent正在筛选价格标准范围...', 4000);
                        addAnalysisLog('<svg class="inline-block w-4 h-4 mr-2 text-purple-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>酒店Agent正在评估距离便利性...', 5000);
                        addAnalysisLog('<svg class="inline-block w-4 h-4 mr-2 text-purple-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>酒店Agent已汇总分析结果，生成推荐列表', 6000);
                        
                        // 显示真实内容（在最后一行日志显示时）
                        setTimeout(() => {
                            showHotelContent();
                        }, 6000);
                        
                        // 最终状态：分析完成
                        setTimeout(() => {
                            updateProgress(100, '酒店Agent分析完成');
                        }, 6500);
                        break;
                }
            }
            
            // 为每个标签按钮添加点击事件
            tabButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const tabId = this.id.split('-')[2];
                    switchTab(tabId);
                });
            });
            
            // 设置下一步按钮事件
            document.getElementById('next-to-transport').addEventListener('click', function() {
                switchTab('2');
            });
            
            document.getElementById('next-to-hotel').addEventListener('click', function() {
                switchTab('3');
            });
            
            document.getElementById('back-to-application').addEventListener('click', function() {
                switchTab('1');
            });
            
            document.getElementById('back-to-transport').addEventListener('click', function() {
                switchTab('2');
            });
            
            // 交通方式标签切换
            const transportTabs = document.querySelectorAll('.transport-tab');
            const transportContents = document.querySelectorAll('.transport-content');
            
            transportTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // 移除所有活动状态
                    transportTabs.forEach(t => {
                        t.classList.remove('active', 'border-blue-500', 'text-blue-600');
                        t.classList.add('text-gray-600');
                    });
                    
                    transportContents.forEach(content => {
                        content.classList.add('hidden');
                        content.classList.remove('active');
                    });
                    
                    // 添加活动状态
                    this.classList.add('active', 'border-blue-500', 'text-blue-600');
                    this.classList.remove('text-gray-600');
                    
                    // 显示对应内容
                    const contentId = this.id.split('-')[1];
                    const activeContent = document.getElementById('content-' + contentId);
                    activeContent.classList.add('active');
                    activeContent.classList.remove('hidden');
                });
            });
    
            // 酒店类型标签切换
            const hotelTabs = document.querySelectorAll('.hotel-tab');
            const hotelContents = document.querySelectorAll('.hotel-content');
            
            hotelTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // 移除所有活动状态
                    hotelTabs.forEach(t => {
                        t.classList.remove('active', 'border-blue-500', 'text-blue-600');
                        t.classList.add('text-gray-600');
                    });
                    
                    hotelContents.forEach(content => {
                        content.classList.add('hidden');
                        content.classList.remove('active');
                    });
                    
                    // 添加活动状态
                    this.classList.add('active', 'border-blue-500', 'text-blue-600');
                    this.classList.remove('text-gray-600');
                    
                    // 显示对应内容
                    const contentId = this.id.split('-')[1];
                    const activeContent = document.getElementById('content-' + contentId);
                    activeContent.classList.add('active');
                    activeContent.classList.remove('hidden');
                });
            });

            // 手动进度更新函数
            function updateProgress(percent, text) {
                const aiProgressBar = document.getElementById('aiProgressBar');
                const aiStatusText = document.getElementById('aiStatusText');
                
                aiProgressBar.style.width = percent + '%';
                if (text) {
                    aiStatusText.textContent = text;
                }
            }

            // 添加分析日志函数
            function addAnalysisLog(message, delay = 0) {
                setTimeout(() => {
                    const logContainer = document.getElementById('aiAnalysisLog');
                    const logItem = document.createElement('div');
                    logItem.className = 'text-sm text-blue-600 opacity-0 transition-opacity duration-300';
                    logItem.innerHTML = `${message}`;
                    
                    logContainer.appendChild(logItem);
                    
                    // 触发渐入动画
                    setTimeout(() => {
                        logItem.classList.remove('opacity-0');
                        logItem.classList.add('opacity-100');
                    }, 50);
                    
                    // 滚动到底部
                    const statusContent = document.getElementById('aiStatusContent');
                    statusContent.scrollTop = statusContent.scrollHeight;
                }, delay);
            }

            // 调整状态条高度函数
            function adjustStatusBarHeight() {
                // This function is now deprecated and no longer needed.
                // The container height will be determined by its content.
            }

            // 模拟AI分析过程（可选功能）
            function simulateAIAnalysis() {
                const messages = [
                    '正在分析出行需求...',
                    '查询最优航班信息...',
                    '对比多个交通方案...',
                    '筛选符合标准的酒店...',
                    '生成个性化推荐方案...',
                    '分析完成，方案已生成'
                ];
                
                messages.forEach((message, index) => {
                    addAnalysisLog(message, index * 800);
                });
            }

            // 清空分析日志函数
            function clearAnalysisLog() {
                const logContainer = document.getElementById('aiAnalysisLog');
                logContainer.innerHTML = '';
                adjustStatusBarHeight();
            }

            // 显示申请单真实内容函数
            function showApplicationContent() {
                const loadingState = document.getElementById('applicationLoadingState');
                const realContent = document.getElementById('applicationRealContent');
                
                // 隐藏加载状态
                loadingState.style.display = 'none';
                
                // 显示真实内容
                realContent.classList.remove('hidden');
                setTimeout(() => {
                    realContent.classList.remove('opacity-0');
                    realContent.classList.add('opacity-100');
                }, 50);
            }

            // 隐藏申请单真实内容函数（用于其他标签页）
            function hideApplicationContent() {
                const loadingState = document.getElementById('applicationLoadingState');
                const realContent = document.getElementById('applicationRealContent');
                
                // 显示加载状态
                loadingState.style.display = 'block';
                
                // 隐藏真实内容
                realContent.classList.add('opacity-0');
                realContent.classList.remove('opacity-100');
                setTimeout(() => {
                    realContent.classList.add('hidden');
                }, 300);
            }

            // 显示交通推荐真实内容函数
            function showTransportContent() {
                const loadingState = document.getElementById('transportLoadingState');
                const realContent = document.getElementById('transportRealContent');
                
                // 隐藏加载状态
                loadingState.style.display = 'none';
                
                // 显示真实内容
                realContent.classList.remove('hidden');
                setTimeout(() => {
                    realContent.classList.remove('opacity-0');
                    realContent.classList.add('opacity-100');
                }, 50);
            }

            // 隐藏交通推荐真实内容函数
            function hideTransportContent() {
                const loadingState = document.getElementById('transportLoadingState');
                const realContent = document.getElementById('transportRealContent');
                
                // 显示加载状态
                loadingState.style.display = 'block';
                
                // 隐藏真实内容
                realContent.classList.add('opacity-0');
                realContent.classList.remove('opacity-100');
                setTimeout(() => {
                    realContent.classList.add('hidden');
                }, 300);
            }

            // 打开百度地图功能
            window.openBaiduMap = function() {
                // 百度地图网页版URL，包含北人亦创国际会展中心标记
                const baiduMapURL = 'https://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D北人亦创国际会展中心%26c%3D131%26src%3D0%26pn%3D0%26sug%3D0%26l%3D12%26b%3D(116.45,39.75;116.60,39.84)%26from%3Dwebmap%26biz_forward%3D%7B%22scaler%22:1,%22styles%22:%22pl%22%7D';
                
                // 检测设备类型
                const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                
                if (isMobile) {
                    // 移动端尝试打开百度地图APP
                    const baiduAppURL = 'baidumap://map/place/search?query=北人亦创国际会展中心&location=39.795,116.527&radius=2000&src=webapp.baidu.openAPIdemo';
                    
                    // 尝试打开APP，如果失败则打开网页版
                    const iframe = document.createElement('iframe');
                    iframe.src = baiduAppURL;
                    iframe.style.display = 'none';
                    document.body.appendChild(iframe);
                    
                    setTimeout(() => {
                        document.body.removeChild(iframe);
                        window.open(baiduMapURL, '_blank');
                    }, 2000);
                } else {
                    // 桌面端直接打开百度地图网页版
                    window.open(baiduMapURL, '_blank');
                }
            };
            
            // 百度地图错误处理 - 使用本地SVG地图
            window.handleBaiduMapError = function() {
                console.log('百度地图加载失败，显示本地SVG地图');
                const mapImage = document.querySelector('#baiduMapImage');
                const fallback = document.getElementById('mapFallback');
                
                if (mapImage && fallback) {
                    mapImage.style.display = 'none';
                    fallback.classList.remove('hidden');
                    
                    // 创建自定义SVG地图
                    const svgMap = `
                        <svg width="100%" height="100%" viewBox="0 0 1200 256" xmlns="http://www.w3.org/2000/svg">
                            <!-- 背景地图 -->
                            <rect width="100%" height="100%" fill="#f0f8ff"/>
                            <defs>
                                <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
                                    <path d="M 50 0 L 0 0 0 50" fill="none" stroke="#e0e7ff" stroke-width="1"/>
                                </pattern>
                            </defs>
                            <rect width="100%" height="100%" fill="url(#grid)"/>
                            
                            <!-- 道路 -->
                            <path d="M0 120 Q300 100 600 120 Q900 140 1200 120" stroke="#d1d5db" stroke-width="8" fill="none"/>
                            <path d="M200 0 Q250 128 300 256" stroke="#d1d5db" stroke-width="6" fill="none"/>
                            <path d="M800 0 Q850 128 900 256" stroke="#d1d5db" stroke-width="6" fill="none"/>
                            
                            <!-- 北人亦创国际会展中心 (红色标记) -->
                            <circle cx="600" cy="120" r="15" fill="#ef4444" stroke="#ffffff" stroke-width="3"/>
                            <text x="600" y="105" text-anchor="middle" font-size="12" font-weight="bold" fill="#374151">🅰</text>
                            <text x="600" y="145" text-anchor="middle" font-size="10" fill="#374151">北人亦创会展中心</text>
                            
                            <!-- 诺富特酒店 (绿色 - AI推荐) -->
                            <circle cx="800" cy="160" r="12" fill="#10b981" stroke="#ffffff" stroke-width="2"/>
                            <text x="800" y="165" text-anchor="middle" font-size="10" font-weight="bold" fill="#ffffff">🅱</text>
                            <text x="800" y="180" text-anchor="middle" font-size="9" fill="#374151">诺富特酒店</text>
                            
                            <!-- 亦庄希尔顿酒店 (蓝色) -->
                            <circle cx="450" cy="80" r="10" fill="#3b82f6" stroke="#ffffff" stroke-width="2"/>
                            <text x="450" y="85" text-anchor="middle" font-size="9" font-weight="bold" fill="#ffffff">Ⓒ</text>
                            <text x="450" y="100" text-anchor="middle" font-size="8" fill="#374151">希尔顿</text>
                            
                            <!-- 万豪酒店 (蓝色) -->
                            <circle cx="700" cy="200" r="10" fill="#3b82f6" stroke="#ffffff" stroke-width="2"/>
                            <text x="700" y="205" text-anchor="middle" font-size="9" font-weight="bold" fill="#ffffff">Ⓓ</text>
                            <text x="700" y="220" text-anchor="middle" font-size="8" fill="#374151">万豪酒店</text>
                            
                            <!-- 假日酒店 (蓝色) -->
                            <circle cx="550" cy="90" r="10" fill="#3b82f6" stroke="#ffffff" stroke-width="2"/>
                            <text x="550" y="95" text-anchor="middle" font-size="9" font-weight="bold" fill="#ffffff">Ⓔ</text>
                            <text x="550" y="110" text-anchor="middle" font-size="8" fill="#374151">假日酒店</text>
                            
                            <!-- 国际酒店 (蓝色) -->
                            <circle cx="750" cy="150" r="10" fill="#3b82f6" stroke="#ffffff" stroke-width="2"/>
                            <text x="750" y="155" text-anchor="middle" font-size="9" font-weight="bold" fill="#ffffff">Ⓕ</text>
                            <text x="750" y="170" text-anchor="middle" font-size="8" fill="#374151">国际酒店</text>
                            
                            <!-- 距离线条 -->
                            <path d="M600 120 L800 160" stroke="#94a3b8" stroke-width="2" stroke-dasharray="5,5" opacity="0.6"/>
                            <text x="700" y="135" text-anchor="middle" font-size="9" fill="#64748b">2.5km</text>
                        </svg>
                    `;
                    
                    fallback.innerHTML = svgMap;
                    
                    // 添加重试功能
                    setTimeout(() => {
                        const retryBtn = document.createElement('button');
                        retryBtn.innerHTML = '<i class="fas fa-redo mr-1"></i>重新加载地图';
                        retryBtn.className = 'absolute bottom-4 right-4 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors shadow-lg';
                        retryBtn.onclick = () => location.reload();
                        fallback.appendChild(retryBtn);
                    }, 1000);
                }
            };
            
            // 百度地图加载成功处理
            window.handleBaiduMapSuccess = function() {
                console.log('百度地图加载成功');
                const fallback = document.getElementById('mapFallback');
                const mapImage = document.querySelector('#baiduMapImage');
                if (fallback) {
                    fallback.classList.add('hidden');
                }
                if (mapImage) {
                    mapImage.classList.add('opacity-100');
                    mapImage.classList.remove('opacity-50');
                }
            };
            
            // 初始化地图加载状态
            window.initMapLoading = function() {
                const mapImage = document.querySelector('#baiduMapImage');
                if (mapImage) {
                    mapImage.classList.add('opacity-50', 'transition-opacity', 'duration-300');
                    
                    // 5秒超时处理
                    setTimeout(() => {
                        if (mapImage.complete && mapImage.naturalHeight === 0) {
                            console.log('百度地图加载超时，显示备用方案');
                            handleBaiduMapError();
                        }
                    }, 5000);
                }
            };

            // 初始化地图加载状态
            initMapLoading();
            
            // 初始化显示 - 显示申请单页面的分析结果
            setTimeout(() => {
                updateTabAnalysis('1');
            }, 500);
        });

        // 交通选择处理函数
        function selectTransport(element) {
            // 移除所有选项的选中状态
            const allOptions = document.querySelectorAll('.transport-option');
            allOptions.forEach(option => {
                option.classList.remove('border-blue-500', 'bg-blue-50');
                option.classList.add('border-gray-200');
                const radio = option.querySelector('input[type="radio"]');
                if (radio) radio.checked = false;
            });
            
            // 为当前选中的选项添加选中状态
            element.classList.remove('border-gray-200');
            element.classList.add('border-blue-500', 'bg-blue-50');
            
            // 选中对应的单选框
            const radio = element.querySelector('input[type="radio"]');
            if (radio) {
                radio.checked = true;
            }
            
            // 获取选择的交通信息
            const transportType = element.dataset.type;
            const transportId = element.dataset.id;
            const transportValue = radio ? radio.value : '';
            
            console.log('选择的交通方式:', {
                type: transportType,
                id: transportId,
                value: transportValue
            });
            
            // 可以在这里添加额外的处理逻辑，比如显示确认信息等
            showTransportSelection(transportType, transportId);
        }

        // 显示交通选择确认信息
        function showTransportSelection(type, id) {
            const typeName = type === 'plane' ? '飞机' : '高铁';
            
            // 可以在页面某处显示选择确认信息
            // 这里可以添加一个小的提示或者更新某个状态显示区域
            console.log(`已选择：${typeName} ${id}`);
        }
    </script>
</body>
</html>